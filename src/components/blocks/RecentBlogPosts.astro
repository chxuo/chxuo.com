---
import { getBlogPosts } from "@/utils/blog";
import BlogPostItem from "../common/BlogPostItem.astro";

const blogPosts = await getBlogPosts();
---

<section id="blog" class="py-24 md:py-32">
  <div
    class="mb-8 flex flex-col justify-between gap-4 border-b border-border pb-6 md:flex-row md:items-end"
  >
    <div>
      <h2
        class="mb-2 font-serif text-3xl font-medium text-foreground md:text-4xl"
      >
        最新文章
      </h2>
      <p class="font-sans text-sm font-light text-muted-foreground">
        记录点工作与生活的碎碎念。随便写写，您随便看看。
      </p>
    </div>

    <a
      href="/blog"
      class="group flex items-center gap-2 font-mono text-sm text-zinc-400 transition-colors hover:text-primary"
    >
      查看更多
      <span class="inline-block transition-transform group-hover:translate-x-1"
        >&rarr;</span
      >
    </a>
  </div>

  {
    blogPosts.slice(0, 4).map((post, index) => (
      <>
        <BlogPostItem post={post} />
        {index < blogPosts.length - 1 && <hr class="border-t border-border" />}
      </>
    ))
  }
</section>
